<!--HTML-->
<section style="{% if section.settings.bgGradient != blank %}background:{{ section.settings.bgGradient }};{% else %}background-color:{{ section.settings.bg }};{% endif %} padding-top: {{ section.settings.paddingTop }}px; padding-bottom: {{ section.settings.paddingBottom }}px">
  <div class="googleMaps" style="{% if section.settings.sectionType == "container" %}padding: {{ section.settings.containerPadding }}px; {% if section.settings.containerBgGradient != blank %}background:{{ section.settings.containerBgGradient }};{% else %}background-color:{{ section.settings.containerBg }};{% endif %} max-width: {{ section.settings.containerWidth }}px; margin-left: auto; margin-right: auto; border-radius: {{ section.settings.borderRadius }}px;{% endif %}">
    <iframe class="lazyload" {% if section.settings.mapBorderRadius > 0 %}style="border-radius: {{ section.settings.mapBorderRadius }}px; border: none; overflow: hidden"{% endif %} data-src="{{ section.settings.mapSRC }}" width="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</section>

<!--CSS-->
<style>
  .googleMaps {
    display: flex;
    flex-direction: column;
    gap: 25px;
  }
  .googleMaps > iframe {
    min-height: {{ section.settings.mapHeight }}px;
  }
</style>

{% schema %}
  {
    "name": "Google maps",
    "settings": [
      {
        "type": "header",
        "content": "General settings"
      },
      {
        "type": "color",
        "id": "bg",
        "label": "Background color",
        "default": "#ffffff"
      },
      {
        "type": "color_background",
        "id": "bgGradient",
        "label": "Background gradient"
      },
      {
        "type": "range",
        "id": "paddingTop",
        "label": "Section's top margin",
        "unit": "px",
        "min": 0,
        "max": 100,
        "step": 5,
        "default": 0
      },
      {
        "type": "range",
        "id": "paddingBottom",
        "label": "Section's bottom margin",
        "unit": "px",
        "min": 0,
        "max": 100,
        "step": 5,
        "default": 0
      },
      {
        "type": "select",
        "id": "sectionType",
        "label": "Section type",
        "options": [
          {
            "value": "full",
            "label": "Full width"
          },
          {
            "value": "container",
            "label": "Container"
          }
        ],
        "default": "container"
      },
      {
        "type": "range",
        "id": "containerWidth",
        "label": "Container's width",
        "unit": "px",
        "min": 600,
        "max": 1600,
        "step": 50,
        "default": 1400
      },
      {
        "type": "range",
        "id": "containerPadding",
        "label": "Container's inner padding",
        "unit": "px",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 0
      },
      {
        "type": "range",
        "id": "borderRadius",
        "label": "Container's border radius",
        "unit": "px",
        "min": 0,
        "max": 30,
        "step": 1,
        "default": 0
      },
      {
        "type": "color",
        "id": "containerBg",
        "label": "Container's background color",
        "default": "#ffffff"
      },
      {
        "type": "color_background",
        "id": "containerBgGradient",
        "label": "Container's background gradient"
      },
      {
        "type": "header",
        "content": "Section settings"
      },
      {
        "type": "textarea",
        "id": "mapSRC",
        "label": "Google Map SRC",
        "info": "To obtain the SRC, lookup your adress on Google Maps, click Share, embed a map and copy the link inside the src='' tag.",
        "default": "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2788.4083346853554!2d-73.86646422371511!3d45.66270237107786!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4cc9291c3547942f%3A0xfa99762a24e0e20f!2sNordik%20Caf%C3%A9%20Torr%C3%A9facteur%20Et%20Brunch!5e0!3m2!1sen!2sca!4v1695651075335!5m2!1sen!2sca"
      },
      {
        "type": "range",
        "id": "mapHeight",
        "label": "Map minimum height",
        "default": 400,
        "min": 100,
        "max": 1400,
        "step": 50,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "mapBorderRadius",
        "label": "Map border radius",
        "default": 0,
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "px"
      }
    ],
    "presets": [
      {
        "name": "Google maps"
      }
    ]
  }
{% endschema %}